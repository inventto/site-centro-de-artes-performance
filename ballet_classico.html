<!DOCTYPE html>
<html>
    <head>
        <title>Performance</title>
        <meta charset="utf-8">
        <link rel="shortcut icon" href="favicon.ico" />
        <link href="stylesheets/application.css" rel="stylesheet" type="text/css" />
        <link href="stylesheets/azul.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="javascripts/jquery.min.js"></script>
        <script type="text/javascript" src="javascripts/tooltips.js"></script>
        <script type="text/javascript">
            $(document).ready(function(){
                    $(".menu").load("_menu.html");
                    tooltips();
                    });

            $.getJSON("https://www.google.com/calendar/feeds/9re3frtad5s54se6vvc7d5qh3g@group.calendar.google.com/private-c1ede756876fa2cbea6288505a762d93/full?alt=json-in-script&callback=?&orderby=starttime&maxresults=10&singleevents=true&sortorder=ascending&futureevents=true",
            function(agenda){
                window.agenda = agenda;
                var length = agenda.feed.entry.length;
                var horarios = {};
                for(i = 0; i < length; i++){
                     data = agenda.feed.entry[i].gd$when[0];
                     title = agenda.feed.entry[i].title.$t;
                     if (!horarios[title])
                       horarios[title] = {};
                     horaInicio = data.startTime.replace(/.*T/,"").replace(/\..*/,"").split(":").reverse().join(":").replace(/00:/,"").split(":").reverse().join(":");
                     horaFim = data.endTime.replace(/.*T/,"").replace(/\..*/,"").split(":").reverse().join(":").replace(/00:/,"").split(":").reverse().join(":");

                     dataStart = data.startTime.replace(/T.*/,"").split("-");
                     //dataEnd = data.endTime.replace(/T.*/,"").split("-");

                     dataInicio = new Date(dataStart[0], parseInt(dataStart[1]) - 1, dataStart[2]);
                     console.log(dataStart);
                     console.log(dataInicio);
                     //dataFim = new Date(dataEnd[0], dataEnd[1], dataEnd[2]);
                     var weekday=new Array(7);
                     weekday[0]="Domingo";
                     weekday[1]="2a";
                     weekday[2]="3a";
                     weekday[3]="4a";
                     weekday[4]="5a";
                     weekday[5]="6a";
                     weekday[6]="Sábado";
                     diaSemana = weekday[dataInicio.getDay()];
                     //diaSemanaFim = (dataFim.getDay() + 1) + "a";

                     content = agenda.feed.entry[i].content.$t;

                     if (!horarios[title][content])
                       horarios[title][content] = {}
                     horarios[title][content][diaSemana]= { horaInicio: horaInicio, horaFim: horaFim };
                  }
                  for(titulo in horarios){
                      t = titulo.split("(");
                      rand = function() {
                        return Math.floor((Math.random() * 3) + 1);
                      };
                      if (t.length > 1)
                        $('.foto').after("<div class='posicao"+rand()+" inclinacao"+rand()+"'><p><strong>"+t[0]+"</strong>("+t[1]+"</p></div>");
                      else
                        $('.foto').after("<div class='posicao"+rand()+" inclinacao"+rand()+"'><p><strong>"+t[0]+"</strong></p></div>");
                      div = $('.foto').next();
                      horarios_por_nivel = horarios[titulo];
                      for(c in horarios_por_nivel){
                          div.append("<p>"+c+"</p>");
                          horarios_por_turma = horarios[titulo][c];
                          mesmo_horario = true;
                          hora_inicio = undefined;
                          hora_fim = undefined;
                          for(d in horarios_por_turma) {
                            if (hora_inicio && hora_fim) {
                              if (hora_inicio != horarios_por_turma[d].horaInicio || hora_fim != horarios_por_turma[d].horaFim)
                                mesmo_horario = false;
                            }
                            hora_inicio = horarios_por_turma[d].horaInicio;
                            hora_fim = horarios_por_turma[d].horaFim;
                          }
                          if (mesmo_horario) {
                            dias = [];
                            for(d in horarios_por_turma) {
                              dias.push(d);
                            }
                            div.append("<p>" + dias.join(" e ") + " - " + horarios_por_turma[d].horaInicio + " as " + horarios_por_turma[d].horaFim + "</p>");
                          } else {
                            for(d in horarios_por_turma) {
                              div.append("<p>" + d + " - " + horarios_por_turma[d].horaInicio + " as " + horarios_por_turma[d].horaFim + "</p>");
                            }
                          }
                      }
                 }
                 window.horario = horarios;
            });
        </script>
    </head>
    <body>
        <div id="top_wrapper">
            <div id="top">
                <div id="logo">
                    <a href="index.html"><img src="images/logo.png" title="Centro de Artes Performance"/></a>
                </div>
                <div class="menu"></div>
            </div>
        </div>
        <div id="container">
            <div id="sub_menu">
                <ul class="cursos">
                </ul>
            </div>
            <div class="texto">
                <p>O curso de Ballet Clássico é dividido em três
                    níveis: Iniciante, Intermediário e Avançado.</p>
                <p>No Ballet Clássico (a partir dos 7 anos de idade)
                    a técnica é mais vivenciada pelos bailarinos e
                    bailarinas. O ensino prático e teórico perde o
                    caráter lúdico e passa a desenvolver a técnica
                    da dança clássica através de exercícios na
                    barra, centro e diagonal, respeitando cada
                    faixa etária e o físico da criança em formação.</p>
                <p>A partir do nível Intermediário a dificuldade dos
                    exercícios aumenta gradativamente. Nesta fase
                    inicia-se o preparo para o trabalho sobre as
                    sapatilhas de ponta. A idade não é o fator
                    determinante para o inicio deste trabalho, é
                    necessário levar em conta a experiência, a
                    qualidade técnica, o preparo físico, o
                    desenvolvimento e consciência corporal de
                    cada bailarina.<p>
                        <p>UNIFORME: <span class="tip_trigger">Collant <span class="tip"><img src="images/collant-infantil.jpg" alt="collant"/></span></span> e <span class="tip_trigger">shorts preto,<span class="tip"><img src="images/" alt="Shorts Preto"/></span></span><span class="tip_trigger">meia-calça, <span class="tip"><img src="URL" alt="Meia Calça" /></span></span>  <span class="tip_trigger">sapatilha, <span class="tip"><img src="URL" alt="Sapatilha"/></span></span> <span class="tip_trigger">rede <span class="tip"><img src="URL" alt="Rede"/></span></span> e <span class="tip_trigger">faixa para o cabelo: rosa.<span class="tip"><img src="URL" alt="Faixa" /></span></span></p>
            </div>
            <div class="esquerda">
                <div class="titulo">
                    Ballet Clássico
                </div>
                <div class="foto">
                    <img src="images/ballet_classico.jpg"/>
                </div>
            </div>
            <i></i>
        </div>
        <div id="footer">
            <a href="http://www.invent.to"><img src="images/logo_footer.png" style="float: right;"/></a>
            <div class="menu">
            </div>
        </div>
    </body>
</html>
